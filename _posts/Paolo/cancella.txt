---
title: Probabilita' figli e misura
categories: Italiano
tags: [statistics, math, philosophy]
maths: 1
comments_id: x
bigimg: 
toc:  1
---

Il Problema 
===============


Mi sono imbattuto in questo interessante e "semplice" problema di statistica 
(sarebbe meglio dire dalla semplice formulazione).
Questo mio post e' in pratica una riassunto del video blog: https://www.youtube.com/watch?v=ElB350w8iJo
a cui aggiungo qualche considerazione personale.

Un'**osservazione**: e' molto importante la definizione della domanda che verra' posta,
perche' ci sono vari dettagli che possono sfuggire.

Vedremo inoltre una cosa molto interessante, **non e' sufficiente** pensare in termini di **popolazioni**, 
ma e' necessario pensare anche in termini di **come** queste popolazioni vengono **misurate**.

{% include tip.html content=
"Supponiamo di incontrare una persona in un bar, Tizio per gli amici. Durante una conversazione, 
Tizio ci dice che ha 2 figli (senza specificarne il sesso), a questo punto decide in darci 
due informazioni aggiuntive, una dopo l'altra:
"%}
{% include tip.html content= "1. `almeno` uno di questi figli e' `femmina` "%}  

{% include tip.html content= "2. la propria figlia si chiama `Jane` (come la morosa di Tarzan)."%}


{% include warning.html content="
Domanda 1: quando il nostro interlocutore ci ha detto di avere almeno una
figlia femmina quale probabilita' esiste che anche il secondo figlio sia una femmina? "%}
 
{%  include warning.html content="
Domanda 2: quando aggiunge che la propria figlia si chiama Jane, la probabilita' che il secondo figlio sia femmina cambia?
"%}

Prima di procedere bisogna dare una definizione operativa di `probabilita'`. In questo caso ne prendiamo una ragionevole e
semplice (di tipo frequentista). Supponiamo che la situazione appena descritta si ripeta molte volte:
 incontro molti padri che mi dicono: ho due figli di cui almeno una figlia femmina. A questo punto aggiungo la famiglia appena
conocsciuta sul taccuino e chiedo al padre se anche il secondo figlio e' femmina, annotando anche questa informazione.
Quando ho una popolazione abbastanza grande (migliaia di casi), conto il numero di famiglie totali e conto quante di esse
 hanno una figlia femmina. La `probabilita'` sara' il rapporto tra le famiglie con 2 femmine sul totale delle famiglie
annotate.

Ripetiamo quanto sopra nel caso in cui il genitore ci dice di avere 2 figli, di cui almeno una femmina di nome Jane
, segnandoci la famiglia e il sesso del secondo figlio.

**Attenzione**: teniamo 2 conti separati per i due casi (potremmo usare due taccuini separati). 


# Popolazione A

<div class="col s12" markdown="1">

![]({{ site.baseurl }}/images/posts/popA.jpg)

</div>

A questo punto il bravo statistico comincia a costruire un modello in cui ci sono tutti gli oggetti possibili (meglio se
questi sono equiprobabili, cosi' basta contarli).
In questo caso parliamo di popolazioni e di *famiglie equiprobabili*.

Le combinazioni di famiglie equiprobabili sono le seguenti (M=maschio, F=femmia): 
- MM    (primo figlio maschio, secondo maschio)
- MF    (primo figlio maschio, secondo femmina)
- FM    (primo figlio femmina, secondo maschio)
- FF    (primo figlio femmina, secondo femmina)

Questo perche' possiamo considerare che all'incirca ci sia il 50% di probabilita' di avere un figlio
maschio e altrettanto di avere una femmina (inoltre il sesso del secondo figlio non e' influenzato dal sesso del
 primo figlio, resta il 50%)

L'insieme delle famiglie che comprende **almeno** una figlia femmina e' un sottoinsieme del totale.
Chiamiamo questo sottoinsieme  **popolazione A**, restano  solo i casi:
- MF
- FM
- FF

Ognuna di questi tipi di famiglie ha la stessa probabilita' dell'altra.
Data questa popolazione (2 figli, di cui almeno una femmina),possiamo dire che solo in 1/3 dei casi la seconda figlia sara' femmina.  
Si noti che questo risultato e' **indipendente dal nome** dei ragazzi.

# Popolazione B

<div class="col s12" markdown="1">

![]({{ site.baseurl }}/images/posts/popB.jpg)

</div>

Cerchiamo ora la popolazione di famiglie per cui si ha almeno una figlia femmina di nome **Jane**. Questa popolazione, sara' 
un sottoinsieme della popolazione A.

Per facilitarci le idee, assegnamo delle quantita' alle popolazioni. Per esempio ci sono 100 000 famiglie MF, 100 000 FM  e 100 000 FF.
Supponiamo che la frazione di ragazze chiamate Jane sia 1/100.

Vediamo qual'e' ora la popolazione di riferimento (**popolazione B**):

- si passa da 100 000 famiglie MF  $\rightarrow$  100 famiglie del tipo MJ  (dove J sta per Jane)
- si passa da 100 000 famiglie FM  $\rightarrow$  100 famiglie del tipo JM   
- dalle 100 000 famiglie FF $\rightarrow$ si passa a famiglie del tipo JF  e FJ, quindi in totale 200 famiglie
 con 2 femmine hanno una ragazza chiamate Jane.

In questo caso quindi la popolazione totale comprende 400 famiglie che corrispondono alle caratteristiche: 2 figli, una femmina di nome Jane.
A differenza del caso precednte 1/2 delle famiglie comprendera' una seconda figlia femmina.

<div class="col s12" markdown="1">

![]({{ site.baseurl }}/images/posts/popC.jpg)

</div>


<div class="col s12" markdown="1">

![]({{ site.baseurl }}/images/posts/popD.jpg)

</div>


# Paradosso

**Un momento**: 
- se conosco il `nome della ragazza` questo `cambia` in modo consistente la `probabilita'` che l'altro figlio 
sia una femmina: si passa da 1/3 a 1/2 
- Il cambio e' `indipendente` dal nome della ragazza!
- quando Tizio mi aveva detto di avere una figlia, io `sapevo gia'` che questa doveva avere un nome... solo non sapevo
  quale!

Queste tre condizioni sembrano in qualche modo contradditorie. Se il passaggio da 1/3 ad un 1/2 e' indipendente dal nome,
dato che io sapevo gia' che la ragazza aveva un nome, come e' possibile che il fatto che mi venga comunicato cambi 
le probabilita? La probabilita' o e' indipendente dal nome, o dipende!

# Soluzione: a cosa corrispondono le probabilita' 1/3 e  1/2?

Il problema e' molto semplice: le probabilita' 1/3 e 1/2 non corrispondono al problema iniziale!
Queste probabilita' sono corrette se si campionano le popolazioni in un modo **differente** rispetto a quello enunciato
dal problema. Vediamo ora un modo per ottenere quelle probabilita'.
Prendiamo un `campione rappresentativo` delle famiglie con 2 figli e si mettiamolo in uno stadio. 
 A questo punto si chiede a tutti quelli con 2 figli maschi di uscire. 

- Si chiede a quelli con due figlie femmine di alzare la mano. E si ottiene 1/3.

Se ora allo stadio chiediamo a tutte le famiglie con una figlia di nome Jane di alzare la mano e contiemo quelle 
che hanno 2 femmine, otterremo circa 1/2.

Esiste un interessante teorema che indica che per un "metodo di scelta random" la media spaziale 
(ovvero in questo caso contare tutte le famiglie con una caratteristica) puo' essere rimpiazzata
da una media temporale, a patto che il criterio di scelta delle famiglie sia sufficientemente "caotico".
Per questo posso ottenere lo stesso risultato se **io** chiedo a tutte le persone che incontro al bar se hanno
2 figli di cui almeno uno femmina e di nome Jane (supponendo che siano sinceri, ovviamente).

Questo modo di procedere non corrisponde al problema posto che e' invece: incontro Tizio ad un bar, questo ad un 
certo punto **lui** dice di avere due figli, di cui almeno una femmina e successivamente ci dice il nome della femmina Jane.

In questo caso io non sto facendo un campionamento delle intere popolazioni!
Sono i vari possibili "Tizio" che incontro al bar che definiscono il campione. 
Questo cambia molto il risultato. Vediamo come

Supponiamo che ogni padre abbia piu' o meno la stessa probabilita' di parlare dei propri figli
 (non e' necessariamente vero ma e' ragionevole), prendiamo ora la ** popolazione A ** e vediamo
come si modifica, con un *campionamento spontaneo*.  
- da 100 000 famiglie del tipo MF, e' ragionevole pensare che solo 1/2 dei padri mi parlera' della figlia femmina
  (l'altra meta' parlera' del maschio) $\rightarrow$ 50 000 famiglie MF
- da 100 000 famiglie del tipo FM $\rightarrow$ 50 000 famiglie anche in questo caso solo la meta' dei padri parlera' della femmina
- da 100 000 famiglie del tipo FF $\rightarrow$ 100 000 famiglie: non e' cambiato nulla: siamo certi che se il padre
  parla di un solo figlio, dovra' dire che ha almeno una femmina!

Quindi se io lascio che l'interlocutore decida di cosa parlare, la ** popolazione A ** diventa la ** popolazione C **:
- 50 000 famiglie del tipo MF
- 50 000 famiglie del tipo FM
- 100 000 famiglie del tipo FF

Per questo motivo se non si fa un campionamento **attivo**, quando si incontra Tizio al bar  e questi ci dice che
ha 2 figli di cui almeno uno femmina, la probabilita' che anche l'altro figlio sia femmina e' 1/2.


Vediamo ora cosa succede se Tizio ci indica che il nome della propria figlia e' Jane (nome con un'occorrenza di 1/1000)
- da 50 000 famiglie MF si passa a 50 famiglie MJ
- da 50 000 famiglie FM si passa a 50 famiglie JM
- da 100 000 famiglie FF si passa a 1000 famiglie composte la meta' da JF e l'altra meta' da FJ (non e' possibile dare lo stesso nome a due figli...)

In questo caso, il fatto che il genitore mi abbia indicato il nome della figlia non
ha cambiato la probabilita' che la seconda figlia sia femmina: resta 1/2. 
 






